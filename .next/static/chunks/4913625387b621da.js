(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},63209,44215,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);async function r(e){let t=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e.prompt})});if(!t.ok)throw Error((await t.json()).error||"Failed to generate content");return(await t.json()).content}async function n(e){let t=new FormData;t.append("file",e.file);let r=await fetch("/api/extract",{method:"POST",body:t});if(!r.ok)throw Error((await r.json()).error||"Failed to extract content from file");return(await r.json()).content}async function a(e){let t=await fetch("/api/compile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sections:e.sections})});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to compile report"}));throw Error(e.error||e.details||"Failed to compile report")}let r=t.headers.get("content-type");if(r?.includes("application/pdf")){let e=await t.blob();return t.headers.get("content-disposition")?.match(/filename="?(.+)"?/)?.[1],{success:!0,downloadUrl:URL.createObjectURL(e),message:"Report compiled successfully",blob:e}}{let e=await t.json();return{success:e.success,downloadUrl:e.downloadUrl||(e.pdfBase64?`data:application/pdf;base64,${e.pdfBase64}`:""),message:e.message||"Report compiled successfully",pdfBase64:e.pdfBase64}}}e.s(["AlertCircle",()=>t],63209),e.s(["compileReport",()=>a,"extractFromFile",()=>n,"generateContent",()=>r],44215)},43531,4421,20682,e=>{"use strict";let t,r,n,a,s=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>s],43531);var o,i=e.i(71645);let l=e=>{let t,r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,s={setState:n,getState:a,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(n,a,s);return s},c=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>c(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>c(t)(e)}}},d=(t=(o=(n=(e,t)=>({selectedItems:[],customItems:[],contentBySection:{},currentStep:0,selectItem:t=>e(e=>e.selectedItems.find(e=>e.id===t.id)?e:{selectedItems:[...e.selectedItems,t]}),deselectItem:t=>e(e=>({selectedItems:e.selectedItems.filter(e=>e.id!==t)})),addCustomItem:t=>e(e=>{let r={id:`custom-${Date.now()}`,name:t,completed:!1};return{customItems:[...e.customItems,r]}}),removeCustomItem:t=>e(e=>({customItems:e.customItems.filter(e=>e.id!==t)})),updateContent:(t,r,n)=>e(e=>({contentBySection:{...e.contentBySection,[t]:{method:r,text:n}}})),markSectionComplete:t=>e(e=>({selectedItems:e.selectedItems.map(e=>e.id===t?{...e,completed:!0}:e),customItems:e.customItems.map(e=>e.id===t?{...e,completed:!0}:e)})),setCurrentStep:t=>e({currentStep:t}),resetReport:()=>e({selectedItems:[],customItems:[],contentBySection:{},currentStep:0}),reorderSections:t=>{e(e=>({selectedItems:t.filter(t=>e.selectedItems.some(e=>e.id===t.id)),customItems:t.filter(t=>e.customItems.some(e=>e.id===t.id))}))},getCompletionStatus:()=>{let e=t(),r=[...e.selectedItems,...e.customItems],n=r.filter(t=>e.contentBySection[t.id]?.text).length;return{total:r.length,completed:n,percentage:r.length>0?Math.round(n/r.length*100):0}}}),a={name:"report-store",version:1},(e,t,r)=>{let s,o={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(n):n(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...a},i=!1,l=new Set,d=new Set,u=o.storage;if(!u)return n((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...t)},t,r);let m=()=>{let e=o.partialize({...t()});return u.setItem(o.name,{state:e,version:o.version})},f=r.setState;r.setState=(e,t)=>(f(e,t),m());let p=n((...t)=>(e(...t),m()),t,r);r.getInitialState=()=>p;let h=()=>{var r,n;if(!u)return;i=!1,l.forEach(e=>{var r;return e(null!=(r=t())?r:p)});let a=(null==(n=o.onRehydrateStorage)?void 0:n.call(o,null!=(r=t())?r:p))||void 0;return c(u.getItem.bind(u))(o.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];else{if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var n;let[a,i]=r;if(e(s=o.merge(i,null!=(n=t())?n:p),!0),a)return m()}).then(()=>{null==a||a(s,void 0),s=t(),i=!0,d.forEach(e=>e(s))}).catch(e=>{null==a||a(void 0,e)})};return r.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},o.skipHydration||h(),s||p}))?l(o):l,Object.assign(r=e=>(function(e,t=e=>e){let r=i.default.useSyncExternalStore(e.subscribe,i.default.useCallback(()=>t(e.getState()),[e,t]),i.default.useCallback(()=>t(e.getInitialState()),[e,t]));return i.default.useDebugValue(r),r})(t,e),t),r);e.s(["useReportStore",0,d],4421);let u=0,m=new Map,f=e=>{if(m.has(e))return;let t=setTimeout(()=>{m.delete(e),v({type:"REMOVE_TOAST",toastId:e})},1e6);m.set(e,t)},p=[],h={toasts:[]};function v(e){h=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?f(r):e.toasts.forEach(e=>{f(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(h,e),p.forEach(e=>{e(h)})}function x({...e}){let t=(u=(u+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>v({type:"DISMISS_TOAST",toastId:t});return v({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>v({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function g(){let[e,t]=i.useState(h);return i.useEffect(()=>(p.push(t),()=>{let e=p.indexOf(t);e>-1&&p.splice(e,1)}),[e]),{...e,toast:x,dismiss:e=>v({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>g],20682)},23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(47163);let a=r.forwardRef(({className:e,type:r,...a},s)=>(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));a.displayName="Input",e.s(["Input",()=>a])},68387,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),a=e.i(75254);let s=(0,a.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,a.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),i=(0,a.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var l=e.i(43531),c=e.i(63209),d=e.i(67881),u=e.i(70065);function m(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function f(e,n=[]){let a=[],s=()=>{let t=a.map(e=>r.createContext(e));return function(n){let a=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:a}}),[n,a])}};return s.scopeName=e,[function(n,s){let o=r.createContext(s),i=a.length;a=[...a,s];let l=n=>{let{scope:a,children:s,...l}=n,c=a?.[e]?.[i]||o,d=r.useMemo(()=>l,Object.values(l));return(0,t.jsx)(c.Provider,{value:d,children:s})};return l.displayName=n+"Provider",[l,function(t,a){let l=a?.[e]?.[i]||o,c=r.useContext(l);if(c)return c;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=n.reduce((t,{useScope:r,scopeName:n})=>{let a=r(e)[`__scope${n}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}(s,...n)]}var p=e.i(20783),h=e.i(91918),v=globalThis?.document?r.useLayoutEffect:()=>{},x=r["useId".toString()]||(()=>void 0),g=0;function b(e){let[t,n]=r.useState(x());return v(()=>{e||n(e=>e??String(g++))},[e]),e||(t?`radix-${t}`:"")}e.i(74080);var y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,n)=>{let a=r.forwardRef((e,r)=>{let{asChild:a,...s}=e,o=a?h.Slot:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(o,{...s,ref:r})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{});function j(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}function w({prop:e,defaultProp:t,onChange:n=()=>{}}){let[a,s]=function({defaultProp:e,onChange:t}){let n=r.useState(e),[a]=n,s=r.useRef(a),o=j(t);return r.useEffect(()=>{s.current!==a&&(o(a),s.current=a)},[a,s,o]),n}({defaultProp:t,onChange:n}),o=void 0!==e,i=o?e:a,l=j(n);return[i,r.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else s(t)},[o,e,s,l])]}var N=r.createContext(void 0);function C(e){let t=r.useContext(N);return e||t||"ltr"}var S="rovingFocusGroup.onEntryFocus",I={bubbles:!1,cancelable:!0},T="RovingFocusGroup",[k,R,E]=function(e){let n=e+"CollectionProvider",[a,s]=f(n),[o,i]=a(n,{collectionRef:{current:null},itemMap:new Map}),l=e=>{let{scope:n,children:a}=e,s=r.default.useRef(null),i=r.default.useRef(new Map).current;return(0,t.jsx)(o,{scope:n,itemMap:i,collectionRef:s,children:a})};l.displayName=n;let c=e+"CollectionSlot",d=r.default.forwardRef((e,r)=>{let{scope:n,children:a}=e,s=i(c,n),o=(0,p.useComposedRefs)(r,s.collectionRef);return(0,t.jsx)(h.Slot,{ref:o,children:a})});d.displayName=c;let u=e+"CollectionItemSlot",m="data-radix-collection-item",v=r.default.forwardRef((e,n)=>{let{scope:a,children:s,...o}=e,l=r.default.useRef(null),c=(0,p.useComposedRefs)(n,l),d=i(u,a);return r.default.useEffect(()=>(d.itemMap.set(l,{ref:l,...o}),()=>void d.itemMap.delete(l))),(0,t.jsx)(h.Slot,{...{[m]:""},ref:c,children:s})});return v.displayName=u,[{Provider:l,Slot:d,ItemSlot:v},function(t){let n=i(e+"CollectionConsumer",t);return r.default.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(n.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[n.collectionRef,n.itemMap])},s]}(T),[A,O]=f(T,[E]),[M,F]=A(T),D=r.forwardRef((e,r)=>(0,t.jsx)(k.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(k.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(P,{...e,ref:r})})}));D.displayName=T;var P=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:a,orientation:s,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,v=r.useRef(null),x=(0,p.useComposedRefs)(n,v),g=C(i),[b=null,N]=w({prop:l,defaultProp:c,onChange:d}),[T,k]=r.useState(!1),E=j(u),A=R(a),O=r.useRef(!1),[F,D]=r.useState(0);return r.useEffect(()=>{let e=v.current;if(e)return e.addEventListener(S,E),()=>e.removeEventListener(S,E)},[E]),(0,t.jsx)(M,{scope:a,orientation:s,dir:g,loop:o,currentTabStopId:b,onItemFocus:r.useCallback(e=>N(e),[N]),onItemShiftTab:r.useCallback(()=>k(!0),[]),onFocusableItemAdd:r.useCallback(()=>D(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>D(e=>e-1),[]),children:(0,t.jsx)(y.div,{tabIndex:T||0===F?-1:0,"data-orientation":s,...h,ref:x,style:{outline:"none",...e.style},onMouseDown:m(e.onMouseDown,()=>{O.current=!0}),onFocus:m(e.onFocus,e=>{let t=!O.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(S,I);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);L([e.find(e=>e.active),e.find(e=>e.id===b),...e].filter(Boolean).map(e=>e.ref.current),f)}}O.current=!1}),onBlur:m(e.onBlur,()=>k(!1))})})}),_="RovingFocusGroupItem",U=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:a,focusable:s=!0,active:o=!1,tabStopId:i,...l}=e,c=b(),d=i||c,u=F(_,a),f=u.currentTabStopId===d,p=R(a),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return r.useEffect(()=>{if(s)return h(),()=>v()},[s,h,v]),(0,t.jsx)(k.ItemSlot,{scope:a,id:d,focusable:s,active:o,children:(0,t.jsx)(y.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:n,onMouseDown:m(e.onMouseDown,e=>{s?u.onItemFocus(d):e.preventDefault()}),onFocus:m(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:m(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let a=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return B[a]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&a.reverse();let s=a.indexOf(e.currentTarget);a=u.loop?(r=a,n=s+1,r.map((e,t)=>r[(n+t)%r.length])):a.slice(s+1)}setTimeout(()=>L(a))}})})})});U.displayName=_;var B={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var $=e=>{var t;let n,a,{present:s,children:o}=e,i=function(e){var t,n;let[a,s]=r.useState(),o=r.useRef({}),i=r.useRef(e),l=r.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=G(o.current);l.current="mounted"===c?e:"none"},[c]),v(()=>{let t=o.current,r=i.current;if(r!==e){let n=l.current,a=G(t);e?d("MOUNT"):"none"===a||t?.display==="none"?d("UNMOUNT"):r&&n!==a?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),v(()=>{if(a){let e,t=a.ownerDocument.defaultView??window,r=r=>{let n=G(o.current).includes(r.animationName);if(r.target===a&&n&&(d("ANIMATION_END"),!i.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},n=e=>{e.target===a&&(l.current=G(o.current))};return a.addEventListener("animationstart",n),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",n),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}d("ANIMATION_END")},[a,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(e=>{e&&(o.current=getComputedStyle(e)),s(e)},[])}}(s),l="function"==typeof o?o({present:i.isPresent}):r.Children.only(o),c=(0,p.useComposedRefs)(i.ref,(t=l,(a=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(a=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof o||i.isPresent?r.cloneElement(l,{ref:c}):null};function G(e){return e?.animationName||"none"}$.displayName="Presence";var K="Tabs",[z,V]=f(K,[O]),H=O(),[q,J]=z(K),W=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:a,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=C(l),[m,f]=w({prop:a,onChange:s,defaultProp:o});return(0,t.jsx)(q,{scope:n,baseId:b(),value:m,onValueChange:f,orientation:i,dir:u,activationMode:c,children:(0,t.jsx)(y.div,{dir:u,"data-orientation":i,...d,ref:r})})});W.displayName=K;var X="TabsList",Q=r.forwardRef((e,r)=>{let{__scopeTabs:n,loop:a=!0,...s}=e,o=J(X,n),i=H(n);return(0,t.jsx)(D,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:a,children:(0,t.jsx)(y.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:r})})});Q.displayName=X;var Y="TabsTrigger",Z=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:a,disabled:s=!1,...o}=e,i=J(Y,n),l=H(n),c=er(i.baseId,a),d=en(i.baseId,a),u=a===i.value;return(0,t.jsx)(U,{asChild:!0,...l,focusable:!s,active:u,children:(0,t.jsx)(y.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:r,onMouseDown:m(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(a)}),onKeyDown:m(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(a)}),onFocus:m(e.onFocus,()=>{let e="manual"!==i.activationMode;u||s||!e||i.onValueChange(a)})})})});Z.displayName=Y;var ee="TabsContent",et=r.forwardRef((e,n)=>{let{__scopeTabs:a,value:s,forceMount:o,children:i,...l}=e,c=J(ee,a),d=er(c.baseId,s),u=en(c.baseId,s),m=s===c.value,f=r.useRef(m);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)($,{present:o||m,children:({present:r})=>(0,t.jsx)(y.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:u,tabIndex:0,...l,ref:n,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&i})})});function er(e,t){return`${e}-trigger-${t}`}function en(e,t){return`${e}-content-${t}`}et.displayName=ee;var ea=e.i(47163);function es({className:e,...r}){return(0,t.jsx)(W,{"data-slot":"tabs",className:(0,ea.cn)("flex flex-col gap-2",e),...r})}function eo({className:e,...r}){return(0,t.jsx)(Q,{"data-slot":"tabs-list",className:(0,ea.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function ei({className:e,...r}){return(0,t.jsx)(Z,{"data-slot":"tabs-trigger",className:(0,ea.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function el({className:e,...r}){return(0,t.jsx)(et,{"data-slot":"tabs-content",className:(0,ea.cn)("flex-1 outline-none",e),...r})}function ec({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,ea.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var ed=e.i(23750),eu=e.i(63780),em=e.i(4421),ef=e.i(20682),ep=e.i(44215);function eh(){let e=(0,n.useRouter)(),{toast:a}=(0,ef.useToast)(),{selectedItems:m,customItems:f,contentBySection:p,updateContent:h,markSectionComplete:v,getCompletionStatus:x}=(0,em.useReportStore)(),g=(0,r.useMemo)(()=>[...m,...f],[m,f]),[b,y]=(0,r.useState)(0),[j,w]=(0,r.useState)("manual"),[N,C]=(0,r.useState)(""),[S,I]=(0,r.useState)(!1),[T,k]=(0,r.useState)(!1),[R,E]=(0,r.useState)(""),A=g[b];p[A?.id];let O=A?.completed,M=x(),F=(0,r.useCallback)(async()=>{if(!R.trim())return void a({title:"Error",description:"Please enter a prompt for AI generation",variant:"destructive"});I(!0);try{let e=await (0,ep.generateContent)({prompt:R});C(e),a({title:"Success",description:"Content generated successfully"})}catch(e){a({title:"Error",description:e instanceof Error?e.message:"Failed to generate content",variant:"destructive"})}finally{I(!1)}},[R,a]),D=(0,r.useCallback)(async e=>{let t=e.currentTarget.files?.[0];if(t){k(!0);try{let e=await (0,ep.extractFromFile)({file:t});C(e),a({title:"Success",description:"File uploaded and content extracted"})}catch(e){a({title:"Error",description:e instanceof Error?e.message:"Failed to upload file",variant:"destructive"})}finally{k(!1)}}},[a]),P=(0,r.useCallback)(()=>{N.trim()?(h(A.id,j,N),a({title:"Saved",description:"Content saved successfully"})):a({title:"Error",description:"Please add content before saving",variant:"destructive"})},[N,A,j,h,a]),_=(0,r.useCallback)(()=>{N.trim()?(h(A.id,j,N),v(A.id),a({title:"Success",description:"Section marked as complete"})):a({title:"Error",description:"Please add content before marking complete",variant:"destructive"})},[N,A,j,h,v,a]),U=(0,r.useCallback)(()=>{if(b<g.length-1){P(),y(b+1);let e=g[b+1];C(p[e.id]?.text||""),E("")}},[b,g,P,p]),B=(0,r.useCallback)(()=>{if(b>0){P(),y(b-1);let e=g[b-1];C(p[e.id]?.text||""),E("")}},[b,g,P,p]),L=(0,r.useCallback)(()=>{P(),e.push("/report/review")},[P,e]);return A?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(eu.Navbar,{}),(0,t.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8 space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Content Creation"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Item ",b+1," of ",g.length,": ",A.name]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-foreground",children:["Progress: ",M.completed," of ",M.total," items completed"]}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[M.percentage,"%"]})]}),(0,t.jsx)("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${M.percentage}%`}})})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-4",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(u.Card,{children:[(0,t.jsx)(u.CardHeader,{children:(0,t.jsx)(u.CardTitle,{className:"text-lg",children:"Sections"})}),(0,t.jsx)(u.CardContent,{className:"space-y-2",children:g.map((e,r)=>(0,t.jsxs)("button",{onClick:()=>{r!==b&&(P(),y(r),C(p[e.id]?.text||""),E(""))},className:`w-full text-left px-3 py-2 rounded-md transition-colors text-sm font-medium flex items-center justify-between ${r===b?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[(0,t.jsx)("span",{className:"truncate",children:e.name}),p[e.id]?.text&&(0,t.jsx)(l.Check,{className:"h-4 w-4 shrink-0 ml-2"})]},e.id))})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsx)(u.CardTitle,{children:"Add Content"}),(0,t.jsx)(u.CardDescription,{children:"Choose a method to add content for this section"})]}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[(0,t.jsxs)(es,{value:j,onValueChange:w,className:"w-full",children:[(0,t.jsxs)(eo,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(ei,{value:"manual",children:"Manual Entry"}),(0,t.jsx)(ei,{value:"ai",children:"AI Generation"}),(0,t.jsx)(ei,{value:"upload",children:"File Upload"})]}),(0,t.jsx)(el,{value:"manual",className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Edit or paste content here"}),(0,t.jsx)(ec,{placeholder:"Enter or edit your content...",value:N,onChange:e=>C(e.target.value),className:"min-h-64"})]})}),(0,t.jsx)(el,{value:"ai",className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Describe what you need"}),(0,t.jsx)(ec,{placeholder:"E.g., 'Generate a crop overview for wheat farming with yield predictions...'",value:R,onChange:e=>E(e.target.value),className:"min-h-24"})]}),(0,t.jsxs)(d.Button,{onClick:F,disabled:S,className:"w-full gap-2",children:[S&&(0,t.jsx)(i,{className:"h-4 w-4 animate-spin"}),S?"Generating...":"Generate with AI"]}),N&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Generated Content (edit as needed)"}),(0,t.jsx)(ec,{value:N,onChange:e=>C(e.target.value),className:"min-h-48"})]})]})}),(0,t.jsx)(el,{value:"upload",className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors",children:(0,t.jsxs)("label",{className:"cursor-pointer space-y-2",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:"Drag and drop your file here or click to browse"}),(0,t.jsx)(ed.Input,{type:"file",onChange:D,disabled:T,className:"hidden",accept:".txt,.pdf,.doc,.docx"}),(0,t.jsx)(d.Button,{variant:"outline",size:"sm",disabled:T,asChild:!0,children:(0,t.jsx)("span",{children:T?"Uploading...":"Select File"})})]})}),N&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Extracted Content (edit as needed)"}),(0,t.jsx)(ec,{value:N,onChange:e=>C(e.target.value),className:"min-h-48"})]})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(d.Button,{variant:"outline",onClick:B,disabled:0===b,className:"gap-2 bg-transparent",children:[(0,t.jsx)(s,{className:"h-4 w-4"}),"Previous"]}),(0,t.jsx)(d.Button,{onClick:P,variant:"secondary",className:"flex-1",children:"Save Content"}),(0,t.jsxs)(d.Button,{onClick:U,disabled:b===g.length-1,className:"gap-2",children:["Next",(0,t.jsx)(o,{className:"h-4 w-4"})]})]}),(0,t.jsxs)(d.Button,{onClick:_,variant:O?"secondary":"default",className:"w-full gap-2",children:[(0,t.jsx)(l.Check,{className:"h-4 w-4"}),O?"Completed":"Mark as Complete"]}),b===g.length-1&&M.completed>0&&(0,t.jsxs)(d.Button,{onClick:L,className:"w-full gap-2 bg-secondary hover:bg-secondary/90",children:["Continue to Review",(0,t.jsx)(o,{className:"h-4 w-4"})]})]}),!N&&(0,t.jsxs)("div",{className:"rounded-lg bg-amber-50 dark:bg-amber-950 p-4 flex gap-3",children:[(0,t.jsx)(c.AlertCircle,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),(0,t.jsx)("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:"Add content to this section before continuing"})]})]})]})})]})]})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)(eu.Navbar,{}),(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(u.Card,{children:(0,t.jsxs)(u.CardContent,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"No items selected"}),(0,t.jsx)(d.Button,{onClick:()=>e.push("/report"),className:"mt-4 w-full",children:"Go Back"})]})})})]})}e.s(["default",()=>eh],68387)}]);